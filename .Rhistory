View(total_con_violencia_df)
View(total_con_violencia_df)
View(total_con_violencia_municipio)
View(complete_table)
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
View(mun)
View(mun[[12]][[1]])
runApp()
runApp()
runApp()
View(total_con_violencia_df_names)
runApp()
runApp()
runApp()
View(total_con_violencia_municipio)
View(total_con_violencia_municipio)
runApp()
runApp()
View(tipo_violencia)
tipo_violencia_municipio <-
lapply(usuarios_sin_violencia,
function(x,DT){
pob_est(DT[!x,]$FACTOR_MHOGAR,
confianza = 0.05,
tam_muestra = 0.25,
semilla = 1)
},
DT = complete_table
)
View(tipo_violencia_municipio)
View(complete_table)
View(usuarios_sin_violencia)
View(tipo_violencia_sexo)
tipo_violencia_municipio <-
lapply(usuarios_sin_violencia,
function(x,DT){
DT[!x,
pob_est(poblacion =  FACTOR_MHOGAR,
confianza = 0.05,
tam_muestra = 0.25,
semilla = 1),
by = c("ENT", "MUNICIPIO")] %>%
.[order(ENT,MUNICIPIO),]
},
DT = complete_table
)
View(tipo_violencia_municipio)
tipo_violencia_municipio$`Abuso Sexual`
View(total_con_violencia)
View(tipo_violencia_municipio)
runApp()
salida_violencia <- tipo_violencia_municipio$`Maltrato Emocional` %>%
filter(ENT == input$selESTADO) %>%
filter(MUNICIPIO == input$mapa_shape_click$id) %>%
salida <- salida_violencia$pob_total %>%
paste0(" personas")
runApp()
salida_violencia <- tipo_violencia_municipio$`Maltrato Emocional` %>%
filter(ENT == input$selESTADO) %>%
filter(MUNICIPIO == input$mapa_shape_click$id)
salida_violencia <- tipo_violencia_municipio$`Maltrato Emocional` %>%
filter(ENT == 09) %>%
filter(MUNICIPIO == 09)
salida_violencia
salida_violencia <- tipo_violencia_municipio$`Maltrato Emocional` %>%
filter(ENT == 09) %>%
filter(MUNICIPIO == 009)
salida_violencia
salida_violencia <- tipo_violencia_municipio$`Maltrato Emocional` %>%
filter(ENT == 09) %>%
filter(MUNICIPIO == 007)
salida_violencia
salida_violencia <- tipo_violencia_municipio$`Maltrato Emocional` %>%
filter(ENT == 09) %>%
filter(MUNICIPIO == 006)
salida_violencia
salida_violencia <- tipo_violencia_municipio$`Maltrato Emocional` %>%
filter(ENT == "09") %>%
filter(MUNICIPIO == "006")
salida_violencia
View(total_con_violencia_municipio)
View(tipo_violencia)
View(tipo_violencia)
View(tipo_violencia_municipio)
violencia_names <- grep(pattern = "P[3-6]_[1]",
x = names(complete_table), value = T)
violencia_names
names(usuarios_sin_violencia)
usuarios_sin_violencia
todos_sin_violencia <- Reduce(f = intersect, usuarios_sin_violencia)
todos_sin_violencia
runApp()
violencia_names <- grep(pattern = "P[3-6]_[1]",
x = names(complete_table), value = F)
violencia_names
violencia_names <- grep(pattern = "P[3-6]_[1]",
x = names(complete_table), value = T)
violencia_names
DT3 <- data.table(V1=c(1L,2L), and call it DT
V2=LETTERS[1:3],
V3=round(rnorm(4),4),
V4=1:12)
DT3 <- data.table(V1=c(1L,2L),
V2=LETTERS[1:3],
V3=round(rnorm(4),4),
V4=1:12)
DT3
View(DT3)
DT3[,.(V2,V3)]
View(DT3)
DT4 = DT3[,.(V2,V3)]
View(DT4)
DT4 = DT3[,(V2,V3)]
DT[,.(print(V2), Print column V2 and plot V3
plot(V3),
NULL)]
DT[,.(print(V2),
plot(V3),
NULL)]
DT[,.(print(V2),
plot(V3),
NULL)]
DT <- data.table(V1=c(1L,2L),
V2=LETTERS[1:3],
V3=round(rnorm(4),4),
V4=1:12)
DT[,.(print(V2),
plot(V3),
NULL)]
DT[,.(V2,V3)]
DT[,list(V2,V3)]
DT = data.table(a=rep(c("x","y","z"),each=2), b=c(1,3), v=1:6)
setkey(DT, p)
DT
DT = data.table(a=rep(c("x","y","z"),each=2), b=c(1,3), v=1:6)
setkey(DT, v)
DT
usuarios_sin_violencia <-
lapply(violencia_names,
function(x, DT) {
grep(pattern = "[1]$", x = DT[, .SD, .SDcols = x] %>% unlist)
},
DT = complete_table
)
View(usuarios_sin_violencia)
A <- matrix(1:9,nrow = 3, ncol = 3)
B <- matrix(11:19,nrow = 3, ncol = 3)
C <- matrix(21:29,nrow = 3, ncol = 3)
A
B
C
mi_lista <- list(A,B,C)
mi_lista
View(mi_lista)
View(mi_lista)
violencia_names
class(violencia_names)
xl = violencia_names
DT[, .SD, .SDcols = x]
DT[, .SD, .SDcols = xl]
names(complete_table)
complete_table[, .SD, .SDcols = xl]
test <- complete_table[, .SD, .SDcols = xl]
View(test)
test2 <- complete_table[, .SD, .SDcols = xl]  %>% unlist
test3 <- complete_table[, .SD, .SDcols = xl]  %>% unlist
test3
grep(pattern = "[1]$", x = DT[, .SD, .SDcols = "P3_1"] %>% unlist)
grep(pattern = "[1]$", x = complete_table[, .SD, .SDcols = "P3_1"] %>% unlist)
grep(pattern = "[1]$", x = complete_table[, .SD, .SDcols = "P3_1"])
grep(pattern = "[1]$", x = complete_table[, .SD, .SDcols = "P3_1"] %>% unlist)
grep(pattern = "[1]$", x = complete_table[, .SD, .SDcols = "P3_1"])
xm = complete_table[, .SD, .SDcols = "P3_1"]
View(xm)
View(complete_table)
todos_sin_violencia <- Reduce(f = intersect, usuarios_sin_violencia)
View(usuarios_sin_violencia)
writeClipboard(usuarios_sin_violencia)
write.table(usuarios_sin_violencia, "clipboard", sep="\t", row.names=FALSE)
write.table(usuarios_sin_violencia[[1]], "clipboard", sep="\t", row.names=FALSE)
write.table(usuarios_sin_violencia[[1]], "clipboard", sep="\t", row.names=FALSE)
write.table(usuarios_sin_violencia[[1]], "clipboard", sep="\t", row.names=FALSE)
write.xlsx(x, file, sheetName = "Sheet1",
col.names = TRUE, row.names = TRUE, append = FALSE)
library(xlsx)
write.csv2(usuarios_sin_violencia, "ALBERTA1.csv")
write.csv2(usuarios_sin_violencia[[1]], "ALBERTA1.csv")
write.csv2(usuarios_sin_violencia[[2]], "ALBERTA2.csv")
write.csv2(usuarios_sin_violencia[[3]], "ALBERTA3.csv")
write.csv2(usuarios_sin_violencia[[4]], "ALBERTA4.csv")
write.csv2(usuarios_sin_violencia[[4]], "ALBERTA4.csv", rownames = FALSE)
write.table(usuarios_sin_violencia[[1]], "ALBERTAM1", sep="\t", row.names=FALSE)
write.table(usuarios_sin_violencia[[1]], "ALBERTAM2", sep="\t", row.names=FALSE)
write.table(usuarios_sin_violencia[[2]], "ALBERTAM2", sep="\t", row.names=FALSE)
write.table(usuarios_sin_violencia[[3]], "ALBERTAM3", sep="\t", row.names=FALSE)
write.table(usuarios_sin_violencia[[4]], "ALBERTAM4", sep="\t", row.names=FALSE)
View(tipo_violencia)
View(total_con_violencia)
View(tipo_violencia)
View(total_sin_violencia)
View(total_con_violencia)
View(total_sin_violencia_sabe_leer)
tipo_violencia_2 <-
lapply(!usuarios_sin_violencia,
function(x,DT){
pob_est(DT[x,]$FACTOR_MHOGAR,
confianza = 0.05,
tam_muestra = 0.25,
semilla = 1)
},
DT = complete_table
)
View(usuarios_sin_violencia)
View(tipo_violencia)
View(tipo_violencia)
tipo_violencia_municipio <-
lapply(usuarios_sin_violencia,
function(x,DT){
DT[!x,
pob_est(poblacion =  FACTOR_MHOGAR,
confianza = 0.05,
tam_muestra = 0.25,
semilla = 1),
by = c("ENT", "MUNICIPIO")] %>%
.[order(ENT,MUNICIPIO),]
},
DT = complete_table
)
View(tipo_violencia_municipio)
runApp()
View(total_con_violencia_municipio)
View(total_con_violencia)
tipo_violencia_municipio[[4]][["num_registros"]]
View(usuarios_sin_violencia)
View(usuarios_sin_violencia)
runApp()
runApp()
View(tipo_violencia_municipio)
salida_violencia <- tipo_violencia_municipio$`Maltrato Emocional` %>%
filter(ENT == "009") %>%
filter(MUNICIPIO == "009")
salida_violencia
salida_violencia <- tipo_violencia_municipio$`Maltrato Emocional` %>%
filter(ENT == "015") %>%
filter(MUNICIPIO == "009")
salida_violencia
salida_violencia <- tipo_violencia_municipio$`Maltrato Emocional` %>%
filter(ENT == "09") %>%
filter(MUNICIPIO == "009")
salida_violencia
salida_violencia <- tipo_violencia_municipio$`Maltrato Emocional` %>%
filter(ENT == "09") %>%
filter(MUNICIPIO == "006")
salida_violencia
tipo_violencia_municipio[["Maltrato Emocional"]][["MUNICIPIO"]]
tipo_violencia_municipio[["Maltrato Emocional"]][["ENT"]]
tipo_violencia_municipio[["Maltrato Emocional"]][["pob_total"]]
View(usuarios_sin_violencia)
View(tipo_violencia_sexo)
View(total_con_violencia)
View(total_con_violencia)
View(total_con_violencia_df)
View(tipo_violencia)
salida_violencia <- tipo_violencia_sexo$`Abuso Sexual` %>%
+     filter(SEXO == "1")
> salida_violencia
salida_violencia <- tipo_violencia_sexo$`Abuso Sexual` %>%
+     filter(SEXO == "1")
> salida_violencia
salida_violencia <- tipo_violencia_sexo$`Abuso Sexual`
+     filter(SEXO == "1")
> salida_violencia
salida_violencia <- tipo_violencia_sexo$`Abuso Sexual` %>%
filter(SEXO == "1")
salida_violencia
tipo_violencia_municipio <-
lapply(usuarios_sin_violencia,
function(x,DT){
DT[!x,
pob_est(poblacion =  FACTOR_MHOGAR,
confianza = 0.05,
tam_muestra = 0.25,
semilla = 1),
by = c("ENT", "MUNICIPIO")]
},
DT = complete_table
)
View(tipo_violencia_municipio)
tipo_violencia_municipio[["Abuso Sexual"]][["MUNICIPIO"]]
tipo_violencia_municipio[["Abuso Sexual"]][["pob_total"]]
tipo_violencia_municipio <-
lapply(usuarios_sin_violencia,
function(x,DT){
DT[!x,
pob_est(poblacion =  FACTOR_MHOGAR,
confianza = 0.05,
tam_muestra = 0.25,
semilla = 1),
by = c("ENT", "MUNICIPIO")] %>%
.[order(ENT,MUNICIPIO),]
},
DT = complete_table
)
tipo_violencia_municipio[["Abuso Sexual"]][["pob_total"]]
tipo_violencia_municipio[["Maltrato Emocional"]][["num_registros"]]
tipo_violencia_municipio[["Maltrato Emocional"]][["pob_total"]]
View(tipo_violencia_sexo_edad)
tipo_violencia_sexo_edad[["Maltrato Emocional"]][["pob_total"]]
View(tipo_violencia_sexo_edad)
tipo_violencia_sexo_edad[["Abuso Sexual"]][["num_registros"]]
tipo_violencia_municipio[["Maltrato Emocional"]][["pob_total"]]
tipo_violencia_municipio[["Intimidacion"]][["pob_total"]]
tipo_violencia_municipio <-
lapply(usuarios_sin_violencia,
function(x,DT){
DT[!x,
pob_est(poblacion =  FACTOR_MHOGAR,
confianza = 0.05,
tam_muestra = 0.25,
semilla = 1),
by = c("ENT", "MUNICIPIO")] %>%
.[order(ENT,MUNICIPIO),]
},
DT = complete_table
)
View(tipo_violencia_municipio)
tipo_violencia_municipio[["Maltrato Emocional"]][["num_registros"]]
tipo_violencia_municipio[["Maltrato Emocional"]][["pob_total"]]
write.table(tipo_violencia_municipio[["Intimidacion"]][["pob_total"]], "clipboard", sep="\t", row.names=FALSE)
View(total_con_violencia)
write.table(tipo_violencia_municipio[["Intimidacion"]][["num_registros"]], "clipboard", sep="\t", row.names=FALSE)
View(tipo_violencia)
write.table(tipo_violencia_municipio[["Maltrato Emocional"]][["num_registros"]], "clipboard", sep="\t", row.names=FALSE)
runApp()
tipo_violencia_municipio[["Maltrato Emocional"]][["num_registros"]]
write.table(tipo_violencia_municipio[["Maltrato Emocional"]][["num_registros"]], "clipboard", sep="\t", row.names=FALSE)
write.table(tipo_violencia_municipio[["Maltrato Emocional"]][["pob_total"]], "clipboard", sep="\t", row.names=FALSE)
write.table(tipo_violencia_municipio[["Intimidacion"]][["pob_total"]], "clipboard", sep="\t", row.names=FALSE)
write.table(tipo_violencia_municipio[["Abuso Fisico"]][["pob_total"]], "clipboard", sep="\t", row.names=FALSE)
write.table(tipo_violencia_municipio[["Abuso Sexual"]][["pob_total"]], "clipboard", sep="\t", row.names=FALSE)
View(tipo_violencia)
runApp()
runApp()
tipo_violencia_municipio[["Abuso Sexual"]][["MUNICIPIO"]]
write.table(tipo_violencia_municipio[["Abuso Sexual"]][["pob_total"]], "clipboard", sep="\t", row.names=FALSE)
runApp()
View(total_con_violencia)
View(total_con_violencia_edad)
View(total_con_violencia_edad_sexo)
View(total_con_violencia_municipio)
View(total_con_violencia_municipio_sexo)
View(total_con_violencia_sabe_leer)
View(total_con_violencia_sabe_leer_sexo)
View(tipo_violencia)
View(tipo_violencia_municipio)
View(total_con_violencia_municipio)
runApp()
View(tipo_violencia_leer)
tipo_violencia_leer_municipio <-
lapply(usuarios_sin_violencia,
function(x,DT){
DT[!x,
pob_est(poblacion =  FACTOR_MHOGAR,
confianza = 0.05,
tam_muestra = 0.25,
semilla = 1),
by = c("ENT", "MUNICIPIO", "SABE_LEER")] %>%
.[order(ENT,MUNICIPIO, SABE_LEER),]
},
DT = complete_table
)
View(tipo_violencia_leer_municipio)
salida_violencia <- tipo_violencia_leer_municipio$`Maltrato Emocional` %>%
filter(ENT == input$selESTADO) %>%
filter(MUNICIPIO == input$mapa_shape_click$id)
salida_violencia <- tipo_violencia_leer_municipio$`Maltrato Emocional` %>%
filter(ENT == "09") %>%
filter(MUNICIPIO == "009")
salida_violencia
runApp()
runApp()
runApp()
tipo_violencia_leer_municipio$`SABE_LEER`
tipo_violencia_leer_municipio$SABE_LEER
salida_violencia$SABE_LEER
runApp()
salida_violencia$SABE_LEER,
salida_violencia$SABE_LEER
salida_violencia$pob_total
runApp()
install.packages("plotly")
runApp()
salida_violencia
runApp()
`Maltrato Emocional`
pTipoViolencia
tipo_violencia_leer_municipio
runApp()
runApp()
runApp()
View(tipo_violencia_leer_municipio)
runApp()
salida_violencia <- tipo_violencia_leer_municipio$`Abuso Sexual` %>%
filter(ENT == "09") %>%
filter(MUNICIPIO == "009")
salida_violencia
salida_violencia <- tipo_violencia_leer_municipio %>%
filter(ENT == "09") %>%
filter(MUNICIPIO == "009")
salida_violencia
salida_violencia <- tipo_violencia_leer_municipio[,] %>%
filter(ENT == "09") %>%
filter(MUNICIPIO == "009")
salida_violencia
salida_violencia <- tipo_violencia_leer_municipio[:,:] %>%
filter(ENT == "09") %>%
filter(MUNICIPIO == "009")
salida_violencia
salida_violencia <- tipo_violencia_leer_municipio[ENT == "09",] %>%
filter(MUNICIPIO == "009")
salida_violencia
runApp()
dataMaltratos
runApp()
dataMaltratos
salida_violencia_maltrato
runApp()
salida_violencia_maltrato
salida_violencia_sexual
runApp()
class(dataMaltratos)
df<-data.frame("hi","bye")
names(df)<-c("hello","goodbye")
de<-data.frame("hola","ciao")
names(de)<-c("hello","goodbye")
newdf <- rbind(df, de)
newdf
runApp()
salida_violencia_sexual <- tipo_violencia_leer_municipio$`Intimidacion` %>%
filter(ENT == "09") %>%
filter(MUNICIPIO == "009")
View(salida_violencia_sexual)
salida_violencia_maltrato <- tipo_violencia_leer_municipio$`Maltrato Emocional` %>%
filter(ENT == "09") %>%
filter(MUNICIPIO == "009")
View(salida_violencia_maltrato)
View(complete_table)
salida_violencia_sexual <- tipo_violencia_leer_municipio$`Intimidacion` %>%
filter(ENT == "09") %>%
filter(MUNICIPIO == "009")
salida_violencia_sexual$tipo_text <- "Intimidacion"
View(salida_violencia_sexual)
salida_violencia_sexual <- tipo_violencia_leer_municipio$`Intimidacion` %>%
filter(ENT == "09") %>%
filter(MUNICIPIO == "009")
salida_violencia_sexual$tipo_text <- "Intimidacion"
salida_violencia_maltrato <- tipo_violencia_leer_municipio$`Maltrato Emocional` %>%
filter(ENT == "09") %>%
filter(MUNICIPIO == "009")
salida_violencia_maltrato$tipo_text <- "Maltrato"
dataMaltratos = rbind(salida_violencia_sexual, salida_violencia_maltrato)
View(dataMaltratos)
runApp()
salida_violencia_sexual <- tipo_violencia_leer_municipio$`Abuso Sexual` %>%
filter(ENT == "09") %>%
filter(MUNICIPIO == "009")
salida_violencia_sexual
salida_violencia_sexual$tipo_text <- "Abuso Sexual"
salida_violencia_sexual <- tipo_violencia_leer_municipio$`Abuso Sexual` %>%
filter(ENT == "09") %>%
filter(MUNICIPIO == "009") %>%
salida_violencia_sexual$tipo_text <- "Abuso Sexual"
salida_violencia_sexual
salida_violencia_sexual$tipo_text <- "Abuso Sexual"
is.empty( salida_violencia_sexual)
length( salida_violencia_sexual)
row( salida_violencia_sexual)
dim(salida_violencia_sexual)
dim(salida_violencia_sexual[])
dim(salida_violencia_sexual[0])
dim(salida_violencia_sexual[1])
dim(salida_violencia_sexual)
dim(salida_violencia_sexual)[1]
dim(salida_violencia_sexual)[2]
nrow(salida_violencia_sexual)
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
